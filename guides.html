<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeGrow - Plant Sharing Network</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* Base Styles */
    :root {
      --primary: #4CAF50;
      --primary-dark: #388E3C;
      --secondary: #8BC34A;
      --accent: #FFC107;
      --light: #F1F8E9;
      --dark: #1B5E20;
      --gray: #757575;
      --light-gray: #E0E0E0;
      --white: #FFFFFF;
      --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      --radius: 12px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: #f8fdf7;
      color: #333;
      line-height: 1.6;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    a {
      text-decoration: none;
      color: var(--dark);
      transition: color 0.3s;
    }

    a:hover {
      color: var(--primary);
    }

    button,
    .btn {
      background-color: var(--primary);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: var(--radius);
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s;
    }

    button:hover,
    .btn:hover {
      background-color: var(--primary-dark);
    }

    /* ===== Header & Navbar ===== */
    header {
      background-color: var(--white);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
      position: relative;
    }

    .logo {
      display: flex;
      align-items: center;
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary-dark);
      z-index: 101;
    }

    .logo i {
      margin-right: 10px;
      color: var(--accent);
    }

    .nav-links {
      display: flex;
      list-style: none;
    }

    .nav-links li {
      margin: 0 15px;
    }

    .nav-links a {
      font-weight: 500;
      position: relative;
    }

    /* remove underline effect */
    .nav-links a::after {
      content: none;
    }

    .nav-links a.active {
      color: var(--primary);
    }

    .auth-buttons {
      display: flex;
      align-items: center;
    }

    .login-btn {
      background: none;
      color: var(--primary);
      margin-right: 15px;
      padding: 10px 20px;
      border-radius: var(--radius);
      font-weight: 600;
    }

    .login-btn:hover {
      background-color: var(--primary);
      color: white;
    }

    .signup-btn {
      background-color: var(--primary);
      color: white;
      padding: 10px 20px;
      border-radius: var(--radius);
      font-weight: 600;
    }

    .signup-btn:hover {
      background-color: var(--primary-dark);
    }

    .hamburger {
      display: none;
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 101;
    }

    /* Mobile Menu Styles */
    .mobile-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background-color: var(--primary-dark);
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
      border-radius: 0 0 var(--radius) var(--radius);
      overflow: hidden;
      z-index: 100;
    }

    .mobile-menu.active {
      display: block;
    }

    .mobile-nav-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .mobile-nav-links li {
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .mobile-nav-links li:last-child {
      border-bottom: none;
    }

    .mobile-nav-links a {
      display: block;
      padding: 15px 20px;
      color: var(--white);
      font-weight: 500;
      transition: background-color 0.3s;
    }

    .mobile-nav-links a:hover,
    .mobile-nav-links a.active {
      background-color: var(--primary);
      color: var(--white);
    }

    .mobile-auth-buttons {
      padding: 15px 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .mobile-login-btn {
      background: none;
      color: var(--white);
      border: 1px solid var(--white);
      padding: 10px;
      border-radius: var(--radius);
      font-weight: 600;
      width: 100%;
    }

    .mobile-signup-btn {
      background-color: var(--accent);
      color: var(--dark);
      padding: 10px;
      border-radius: var(--radius);
      font-weight: 600;
      width: 100%;
      border: none;
    }

    /* ===== Hero Section ===== */
    .hero {
      background: linear-gradient(rgba(255, 255, 255, 0.9),
          rgba(255, 255, 255, 0.7)),
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%234CAF50" fill-opacity="0.1"/><path d="M0,0 L100,100 M100,0 L0,100" stroke="%234CAF50" stroke-opacity="0.1" stroke-width="2"/></svg>');
      padding: 80px 0;
      text-align: center;
    }

    .hero h1 {
      font-size: 3rem;
      margin-bottom: 20px;
      color: var(--dark);
    }

    .hero p {
      font-size: 1.2rem;
      margin-bottom: 30px;
      color: var(--gray);
    }

    .hero-actions {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .upload-btn {
      background-color: var(--accent);
      color: var(--dark);
      padding: 12px 30px;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .upload-btn:hover {
      background-color: #ffb300;
    }

    /* ===== Search & Categories ===== */
    .search-bar {
      display: flex;
      align-items: center;
      gap: 0;
      margin-bottom: 15px;
    }

    .search-bar input {
      flex: 1;
      padding: 12px 18px;
      font-size: 1.1rem;
      border: 1px solid var(--light-gray);
      border-radius: 8px 0 0 8px;
      outline: none;
    }

    .search-bar button {
      padding: 12px 18px;
      font-size: 1.1rem;
      border: 1px solid var(--light-gray);
      border-left: none;
      background-color: var(--primary);
      color: white;
      border-radius: 0 8px 8px 0;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .search-bar button:hover {
      background-color: var(--primary-dark);
    }

    .category-filters {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 30px;
    }

    .category-btn {
      padding: 12px 20px;
      font-size: 1rem;
      border-radius: 30px;
      border: 1px solid var(--light-gray);
      background-color: var(--white);
      color: var(--dark);
      cursor: pointer;
      transition: all 0.3s;
    }

    .category-btn.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .category-btn:hover {
      background-color: var(--primary-dark);
      color: white;
    }

    /* ===== Upload Modal ===== */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    .modal-content {
      background-color: var(--white);
      margin: 2% auto;
      padding: 30px;
      border-radius: var(--radius);
      width: 90%;
      max-width: 600px;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .modal-header h2 {
      color: var(--dark);
    }

    .close {
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--gray);
    }

    .close:hover {
      color: var(--dark);
      background-color: var(--light-gray);
      border-radius: 50%;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--dark);
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--light-gray);
      border-radius: var(--radius);
      font-size: 1rem;
      outline: none;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }

    .image-upload {
      border: 2px dashed var(--light-gray);
      border-radius: var(--radius);
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: border-color 0.3s;
    }

    .image-upload:hover {
      border-color: var(--primary);
    }

    .image-upload.dragover {
      border-color: var(--primary);
      background-color: var(--light);
    }

    /* ===== Guides Grid ===== */
    .guides-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
      margin-bottom: 40px;
    }

    .guide-card {
      background-color: var(--white);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: transform 0.3s;
    }

    .guide-card:hover {
      transform: translateY(-5px);
    }

    .card-image {
      height: 200px;
      background-size: cover;
      background-position: center;
    }

    .card-content {
      padding: 20px;
    }

    .card-content h3 {
      margin-bottom: 10px;
      color: var(--dark);
    }

    .card-content p {
      margin-bottom: 15px;
      color: var(--gray);
      font-size: 0.95rem;
    }

    .card-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      color: var(--gray);
      font-size: 0.85rem;
    }

    .author-info {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }

    .author-avatar {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .author-name {
      color: var(--gray);
      font-size: 0.9rem;
    }

    /* ===== Rating System ===== */
    .rating {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .stars {
      display: flex;
      gap: 2px;
    }

    .star {
      color: var(--light-gray);
      cursor: pointer;
      transition: color 0.2s;
    }

    .star.active,
    .star:hover {
      color: var(--accent);
    }

    .rating-count {
      color: var(--gray);
      font-size: 0.85rem;
    }

    /* ===== Load More Button ===== */
    .load-more {
      text-align: center;
      padding: 30px 0;
    }

    .btn-outline {
      background-color: transparent;
      border: 2px solid var(--primary);
      color: var(--primary);
      padding: 12px 30px;
      font-size: 1.1rem;
    }

    .btn-outline:hover {
      background-color: var(--primary);
      color: white;
    }

    .btn-outline:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    /* ===== Footer ===== */
    footer {
      background-color: var(--dark);
      color: var(--white);
      padding: 60px 0 30px;
    }

    footer a {
      color: var(--light-gray);
    }

    footer a:hover {
      color: var(--accent);
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 40px;
      margin-bottom: 40px;
    }

    .footer-column h3 {
      font-size: 1.2rem;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
    }

    .footer-column h3::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 40px;
      height: 3px;
      background-color: var(--accent);
    }

    .footer-links {
      list-style: none;
    }

    .footer-links li {
      margin-bottom: 10px;
    }

    .footer-links a {
      color: var(--light-gray);
    }

    .footer-links a:hover {
      color: var(--accent);
    }

    .social-icons {
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }

    .social-icons a {
      color: var(--white);
      font-size: 1.2rem;
    }

    .social-icons a:hover {
      color: var(--accent);
    }

    .copyright {
      text-align: center;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--light-gray);
      font-size: 0.9rem;
    }

    /* ===== Responsive Design ===== */
    @media (max-width: 992px) {
      .hero h1 {
        font-size: 2.5rem;
      }

      .nav-links {
        display: none;
      }

      .auth-buttons {
        display: none;
      }

      .hamburger {
        display: block;
      }
    }

    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2rem;
      }

      .hero-actions {
        flex-direction: column;
        align-items: center;
      }

      .search-bar input,
      .search-bar button {
        font-size: 1rem;
        padding: 10px;
      }

      .category-btn {
        padding: 10px 16px;
        font-size: 0.95rem;
      }

      .guides-grid {
        grid-template-columns: 1fr;
      }

      .modal-content {
        width: 95%;
        margin: 5% auto;
        padding: 20px;
      }
    }

    @media (max-width: 576px) {
      .hero {
        padding: 60px 0;
      }

      .hero h1 {
        font-size: 1.8rem;
      }
    }
  </style>
</head>

<body>
  <!-- Header & Navigation -->
  <header>
    <div class="container">
      <nav class="navbar">
        <a href="index.html" class="logo">
          <i class="fas fa-leaf"></i>
          WeGrow
        </a>

        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="plant-listings.html">Listings</a></li>
          <li><a href="messaging.html">Messages</a></li>
          <li><a href="guides.html" class="active">Guides</a></li>
          <li><a href="quest.html">Quests</a></li>
          <li><a href="rewards-store.html">Store</a></li>
          <li><a href="profile.html">Profile</a></li>
        </ul>

        <div class="auth-buttons">
          <button class="login-btn" onclick="location.href='authentication.html'">Log In</button>
          <button class="signup-btn" onclick="location.href='authentication.html'">Sign Up</button>
        </div>

        <div class="hamburger">
          <i class="fas fa-bars"></i>
        </div>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
          <ul class="mobile-nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="plant-listings.html">Listings</a></li>
            <li><a href="messaging.html">Messages</a></li>
            <li><a href="guides.html" class="active">Guides</a></li>
            <li><a href="quest.html">Quests</a></li>
            <li><a href="rewards-store.html">Store</a></li>
            <li><a href="profile.html">Profile</a></li>
          </ul>
          <div class="mobile-auth-buttons">
            <button class="mobile-login-btn" onclick="location.href='authentication.html'">Log In</button>
            <button class="mobile-signup-btn" onclick="location.href='authentication.html'">Sign Up</button>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>Learning Hub</h1>
      <p>
        Expert tips and guides for urban gardeners of all levels. Grow your
        knowledge along with your plants!
      </p>
      <div class="hero-actions">
        <button class="btn upload-btn" id="uploadBtn">
          <i class="fas fa-plus"></i>
          Share Your Guide
        </button>
      </div>
    </div>
  </section>

  <!-- Upload Guide Modal -->
  <div id="uploadModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Share Your Gardening Guide</h2>
        <span class="close" id="closeModal">&times;</span>
      </div>
      <form id="guideForm">
        <div class="form-group">
          <label for="guideTitle">Guide Title</label>
          <input type="text" id="guideTitle" required placeholder="e.g., Growing Herbs Indoors">
        </div>

        <div class="form-group">
          <label for="guideCategory">Category</label>
          <select id="guideCategory" required>
            <option value="">Select category</option>
            <option value="vegetables">Vegetables</option>
            <option value="herbs">Herbs</option>
            <option value="flowers">Flowers</option>
            <option value="succulents">Succulents</option>
            <option value="propagation">Propagation</option>
            <option value="pest control">Pest Control</option>
            <option value="soil & fertilizer">Soil & Fertilizer</option>
          </select>
        </div>

        <div class="form-group">
          <label for="guideDifficulty">Difficulty Level</label>
          <select id="guideDifficulty" required>
            <option value="">Select difficulty</option>
            <option value="Beginner">Beginner</option>
            <option value="Intermediate">Intermediate</option>
            <option value="Advanced">Advanced</option>
          </select>
        </div>

        <div class="form-group">
          <label for="guideTime">Estimated Reading Time (minutes)</label>
          <input type="number" id="guideTime" required placeholder="5" min="1" max="60">
        </div>

        <div class="form-group">
          <label for="guideDescription">Description</label>
          <textarea id="guideDescription" required placeholder="Brief description of your guide..."></textarea>
        </div>

        <div class="form-group">
          <label for="guideContent">Guide Content</label>
          <textarea id="guideContent" required placeholder="Write your detailed guide here..." rows="8"></textarea>
        </div>

        <div class="form-group">
          <label>Cover Image</label>
          <div class="image-upload" id="imageUpload">
            <i class="fas fa-camera" style="font-size: 2rem; color: var(--gray); margin-bottom: 10px;"></i>
            <p>Click to upload or drag and drop an image</p>
            <input type="file" id="imageInput" accept="image/*" style="display: none;">
          </div>
        </div>

        <button type="submit" class="btn" style="width: 100%; padding: 15px;">
          Publish Guide
        </button>
      </form>
    </div>
  </div>

  <!-- Search & Category Filters -->
  <section class="container">
    <div class="filters">
      <div class="search-bar">
        <input type="text" placeholder="Search guides, plants, or techniques..." id="searchInput" />
        <button><i class="fas fa-search"></i></button>
      </div>
      <div class="category-filters">
        <button class="category-btn active" data-category="all">All</button>
        <button class="category-btn" data-category="vegetables">Vegetables</button>
        <button class="category-btn" data-category="herbs">Herbs</button>
        <button class="category-btn" data-category="flowers">Flowers</button>
        <button class="category-btn" data-category="succulents">Succulents</button>
        <button class="category-btn" data-category="propagation">Propagation</button>
        <button class="category-btn" data-category="pest control">Pest Control</button>
        <button class="category-btn" data-category="soil & fertilizer">Soil & Fertilizer</button>
      </div>
    </div>
  </section>

  <!-- Guides Grid -->
  <section class="container">
    <div class="guides-grid" id="guidesGrid">
      <!-- Guides will be loaded here -->
    </div>
    <div class="load-more">
      <button class="btn btn-outline" id="loadMoreBtn">Load More Guides</button>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
          <h3>WeGrow</h3>
          <p>
            Growing together, one plant at a time. Join our community of plant
            enthusiasts today!
          </p>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-pinterest"></i></a>
          </div>
        </div>

        <div class="footer-column">
          <h3>Quick Links</h3>
          <ul class="footer-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="plant-listings.html">Listings</a></li>
            <li><a href="messaging.html">Messages</a></li>
            <li><a href="guides.html">Guides</a></li>
            <li><a href="quest.html">Quests</a></li>
            <li><a href="rewards-store.html">Store</a></li>
            <li><a href="profile.html">Profile</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h3>Support</h3>
          <ul class="footer-links">
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Community Guidelines</a></li>
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms of Service</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h3>Newsletter</h3>
          <p>Subscribe to get updates on new plants and gardening tips.</p>
          <form>
            <input type="email" placeholder="Your email address" style="
                padding: 10px;
                width: 100%;
                margin-bottom: 10px;
                border-radius: var(--radius);
                border: none;
              " />
            <button type="submit" class="btn" style="width: 100%">
              Subscribe
            </button>
          </form>
        </div>
      </div>

      <div class="copyright">
        <p>
          &copy; 2025 WeGrow - Plant Sharing Network. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <script>
    // ===== Sample guide data =====
    const allGuides = [
      {
        id: 1,
        title: "Propagating Succulents from Leaves",
        description: "Step-by-step instructions for multiplying your succulent collection by propagating from leaves.",
        content: "Learn the complete process of succulent propagation from selecting the right leaves to caring for new plants.",
        category: "succulents",
        difficulty: "Easy",
        time: 8,
        image: "https://images.unsplash.com/photo-1416879595882-3373a0480b5b?auto=format&fit=crop&w=800&q=80",
        author: "Sarah Green",
        rating: 4.5,
        ratingCount: 127,
        userRating: 0
      },
      {
        id: 2,
        title: "Organic Pest Control Solutions",
        description: "Natural ways to protect your plants from pests without chemicals.",
        content: "Discover effective organic methods to keep pests away from your garden naturally.",
        category: "pest control",
        difficulty: "Intermediate",
        time: 12,
        image: "https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?auto=format&fit=crop&w=800&q=80",
        author: "Mike Johnson",
        rating: 4.8,
        ratingCount: 89,
        userRating: 0
      },
      {
        id: 3,
        title: "Composting for Urban Gardeners",
        description: "How to create nutrient-rich compost even with limited space in the city.",
        content: "Master the art of urban composting with these proven space-saving techniques.",
        category: "soil & fertilizer",
        difficulty: "Intermediate",
        time: 10,
        image: "https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?auto=format&fit=crop&w=800&q=80",
        author: "Emily Chen",
        rating: 4.3,
        ratingCount: 156,
        userRating: 0
      },
      {
        id: 4,
        title: "Growing Tomatoes in Containers",
        description: "Everything you need to grow juicy tomatoes on your balcony or patio.",
        content: "From seed to harvest, learn everything about successful container tomato growing.",
        category: "vegetables",
        difficulty: "Beginner",
        time: 14,
        image: "https://images.unsplash.com/photo-1593050928935-4b6c49d4e64f?auto=format&fit=crop&w=800&q=80",
        author: "David Wilson",
        rating: 4.6,
        ratingCount: 203,
        userRating: 0
      },
      {
        id: 5,
        title: "Indoor Herb Garden Setup",
        description: "Create a thriving herb garden inside your home with this comprehensive guide.",
        content: "Transform your kitchen windowsill into a productive herb garden paradise.",
        category: "herbs",
        difficulty: "Beginner",
        time: 9,
        image: "https://images.unsplash.com/photo-1466692476868-aef1dfb1e735?auto=format&fit=crop&w=800&q=80",
        author: "Lisa Park",
        rating: 4.4,
        ratingCount: 178,
        userRating: 0
      },
      {
        id: 6,
        title: "Butterfly Garden Essentials",
        description: "Attract beautiful butterflies to your garden with the right flower selection.",
        content: "Learn which flowers butterflies love most and how to create a welcoming habitat.",
        category: "flowers",
        difficulty: "Intermediate",
        time: 11,
        image: "https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=800&q=80",
        author: "Jennifer Lee",
        rating: 4.7,
        ratingCount: 142,
        userRating: 0
      },
      {
        id: 7,
        title: "Vertical Garden Design",
        description: "Maximize your growing space with creative vertical gardening solutions.",
        content: "Discover innovative ways to grow more plants in small spaces using vertical techniques.",
        category: "vegetables",
        difficulty: "Advanced",
        time: 15,
        image: "https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=80",
        author: "Tom Anderson",
        rating: 4.2,
        ratingCount: 95,
        userRating: 0
      },
      {
        id: 8,
        title: "Seed Starting Basics",
        description: "Master the art of starting plants from seeds with this comprehensive guide.",
        content: "Everything you need to know about successfully starting seeds indoors and outdoors.",
        category: "propagation",
        difficulty: "Beginner",
        time: 13,
        image: "https://images.unsplash.com/photo-1524594154908-edd336c64a9d?auto=format&fit=crop&w=800&q=80",
        author: "Maria Rodriguez",
        rating: 4.9,
        ratingCount: 234,
        userRating: 0
      }
    ];

    let currentGuides = [];
    let filteredGuides = [...allGuides];
    let displayedCount = 4;
    let currentFilter = 'all';

    // ===== Initialize =====
    document.addEventListener('DOMContentLoaded', function () {
      loadGuides();
      setupEventListeners();
      addScrollToTop();
      console.log('WeGrow Learning Hub initialized successfully! 🌱');
    });

    // ===== Load and render guides =====
    function loadGuides() {
      currentGuides = filteredGuides.slice(0, displayedCount);
      renderGuides();
      updateLoadMoreButton();
    }

    function renderGuides() {
      const guidesGrid = document.getElementById('guidesGrid');
      guidesGrid.innerHTML = '';
      currentGuides.forEach(guide => {
        const guideCard = createGuideCard(guide);
        guidesGrid.appendChild(guideCard);
      });
    }

    function createGuideCard(guide) {
      const card = document.createElement('div');
      card.className = 'guide-card';
      card.innerHTML = `
        <div class="card-image" style="background-image: url('${guide.image}');"></div>
        <div class="card-content">
          <div class="author-info">
            <div class="author-avatar">${guide.author.charAt(0)}</div>
            <span class="author-name">by ${guide.author}</span>
          </div>
          <h3>${guide.title}</h3>
          <p>${guide.description}</p>
          <div class="card-meta">
            <span><i class="far fa-clock"></i> ${guide.time} min</span>
            <span><i class="fas fa-tachometer-alt"></i> ${guide.difficulty}</span>
          </div>
          <div class="rating">
            <div class="stars" data-guide-id="${guide.id}">
              ${createStarRating(guide.id, guide.userRating)}
            </div>
            <span class="rating-count">${guide.rating.toFixed(1)} (${guide.ratingCount})</span>
          </div>
        </div>
      `;
      return card;
    }

    function createStarRating(guideId, userRating) {
      let starsHTML = '';
      for (let i = 1; i <= 5; i++) {
        const activeClass = i <= userRating ? 'active' : '';
        starsHTML += `<i class="fas fa-star star ${activeClass}" data-rating="${i}"></i>`;
      }
      return starsHTML;
    }

    // ===== Event listeners =====
    function setupEventListeners() {
      // Mobile menu toggle functionality
      const hamburger = document.querySelector('.hamburger');
      const mobileMenu = document.getElementById('mobileMenu');

      hamburger.addEventListener('click', function () {
        mobileMenu.classList.toggle('active');

        // Toggle between hamburger and close icon
        const icon = hamburger.querySelector('i');
        if (mobileMenu.classList.contains('active')) {
          icon.classList.remove('fa-bars');
          icon.classList.add('fa-times');
        } else {
          icon.classList.remove('fa-times');
          icon.classList.add('fa-bars');
        }
      });

      // Close menu when clicking outside
      document.addEventListener('click', function (event) {
        const isClickInsideNavbar = event.target.closest('.navbar');

        if (!isClickInsideNavbar && mobileMenu.classList.contains('active')) {
          mobileMenu.classList.remove('active');
          const icon = hamburger.querySelector('i');
          icon.classList.remove('fa-times');
          icon.classList.add('fa-bars');
        }
      });

      // Filter buttons functionality
      const filterButtons = document.querySelectorAll('.filter-btn');
      filterButtons.forEach(button => {
        button.addEventListener('click', function () {
          filterButtons.forEach(btn => btn.classList.remove('active'));
          this.classList.add('active');
        });
      });


      // Category filter
      document.querySelectorAll(".category-btn").forEach(button => {
        button.addEventListener("click", () => {
          document.querySelectorAll(".category-btn").forEach(btn => btn.classList.remove("active"));
          button.classList.add("active");
          currentFilter = button.dataset.category;
          filterGuides();
        });
      });

      // Search
      document.getElementById('searchInput').addEventListener('input', debounce(filterGuides, 300));

      // Load more
      document.getElementById('loadMoreBtn').addEventListener('click', loadMoreGuides);

      // Modal + upload
      const uploadBtn = document.getElementById('uploadBtn');
      const uploadModal = document.getElementById('uploadModal');
      const closeModal = document.getElementById('closeModal');
      const guideForm = document.getElementById('guideForm');
      const imageUpload = document.getElementById('imageUpload');
      const imageInput = document.getElementById('imageInput');

      uploadBtn.addEventListener('click', () => uploadModal.style.display = 'block');
      closeModal.addEventListener('click', () => { uploadModal.style.display = 'none'; resetForm(); });
      window.addEventListener('click', (e) => {
        if (e.target === uploadModal) {
          uploadModal.style.display = 'none';
          resetForm();
        }
      });

      imageUpload.addEventListener('click', () => imageInput.click());
      imageUpload.addEventListener('dragover', e => { e.preventDefault(); imageUpload.classList.add('dragover'); });
      imageUpload.addEventListener('dragleave', () => imageUpload.classList.remove('dragover'));
      imageUpload.addEventListener('drop', e => {
        e.preventDefault();
        imageUpload.classList.remove('dragover');
        if (e.dataTransfer.files.length > 0) handleImageUpload(e.dataTransfer.files[0]);
      });
      imageInput.addEventListener('change', e => {
        if (e.target.files.length > 0) handleImageUpload(e.target.files[0]);
      });

      guideForm.addEventListener('submit', handleFormSubmission);

      // Rating stars
      document.addEventListener('click', (e) => {
        if (e.target.classList.contains('star')) {
          const guideId = parseInt(e.target.parentElement.dataset.guideId);
          rateGuide(guideId, parseInt(e.target.dataset.rating));
        }
      });

      // Shortcuts
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && uploadModal.style.display === 'block') {
          uploadModal.style.display = 'none';
          resetForm();
        }
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
          e.preventDefault();
          document.getElementById('searchInput').focus();
        }
      });
    }

    // ===== Guide filtering =====
    function filterGuides() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      filteredGuides = allGuides.filter(guide => {
        const matchesCategory = currentFilter === 'all' || guide.category.toLowerCase() === currentFilter;
        const matchesSearch =
          guide.title.toLowerCase().includes(searchTerm) ||
          guide.description.toLowerCase().includes(searchTerm) ||
          guide.category.toLowerCase().includes(searchTerm) ||
          guide.author.toLowerCase().includes(searchTerm);
        return matchesCategory && matchesSearch;
      });
      displayedCount = Math.min(4, filteredGuides.length);
      loadGuides();
    }

    function loadMoreGuides() {
      const loadMoreBtn = document.getElementById('loadMoreBtn');
      loadMoreBtn.disabled = true;
      loadMoreBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
      setTimeout(() => {
        displayedCount = Math.min(displayedCount + 4, filteredGuides.length);
        loadGuides();
        loadMoreBtn.disabled = false;
      }, 800);
    }

    function updateLoadMoreButton() {
      const loadMoreBtn = document.getElementById('loadMoreBtn');
      if (displayedCount >= filteredGuides.length) {
        loadMoreBtn.style.display = 'none';
      } else {
        loadMoreBtn.style.display = 'inline-block';
        loadMoreBtn.innerHTML = `Load More Guides (${filteredGuides.length - displayedCount} remaining)`;
      }
    }

    // ===== Upload helpers =====
    function handleImageUpload(file) {
      if (!file.type.startsWith('image/')) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        const imageUpload = document.getElementById('imageUpload');
        imageUpload.innerHTML = `
        <img src="${e.target.result}" style="max-width: 100%; max-height: 200px; object-fit: cover; border-radius: 8px;">
        <p style="margin-top: 10px; color: var(--primary);">Image uploaded successfully!</p>
      `;
      };
      reader.readAsDataURL(file);
    }

    function validateForm() {
      const title = document.getElementById('guideTitle').value.trim();
      const category = document.getElementById('guideCategory').value;
      const difficulty = document.getElementById('guideDifficulty').value;
      const time = document.getElementById('guideTime').value;
      const description = document.getElementById('guideDescription').value.trim();
      const content = document.getElementById('guideContent').value.trim();

      if (!title || title.length < 5) return showNotification('Title must be at least 5 characters long', 'error'), false;
      if (!category) return showNotification('Please select a category', 'error'), false;
      if (!difficulty) return showNotification('Please select a difficulty level', 'error'), false;
      if (!time || time < 1 || time > 60) return showNotification('Reading time must be between 1-60 minutes', 'error'), false;
      if (!description || description.length < 20) return showNotification('Description must be at least 20 characters long', 'error'), false;
      if (!content || content.length < 50) return showNotification('Content must be at least 50 characters long', 'error'), false;

      return true;
    }

    function handleFormSubmission(e) {
      e.preventDefault();
      if (!validateForm()) return;

      const formData = {
        id: Date.now(),
        title: document.getElementById('guideTitle').value.trim(),
        category: document.getElementById('guideCategory').value.toLowerCase(),
        difficulty: document.getElementById('guideDifficulty').value,
        time: parseInt(document.getElementById('guideTime').value),
        description: document.getElementById('guideDescription').value.trim(),
        content: document.getElementById('guideContent').value.trim(),
        image: "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?auto=format&fit=crop&w=800&q=80",
        author: "You",
        rating: 5.0,
        ratingCount: 1,
        userRating: 5
      };

      allGuides.unshift(formData);
      resetFilters();
      document.getElementById('uploadModal').style.display = 'none';
      resetForm();
      showNotification('Guide published successfully! 🌱', 'success');
    }

    function resetFilters() {
      currentFilter = 'all';
      document.querySelector('.category-btn.active')?.classList.remove('active');
      document.querySelector('[data-category="all"]').classList.add('active');
      document.getElementById('searchInput').value = '';
      filteredGuides = [...allGuides];
      displayedCount = 4;
      loadGuides();
    }

    function resetForm() {
      document.getElementById('guideForm').reset();
      document.getElementById('imageUpload').innerHTML = `
      <i class="fas fa-camera" style="font-size: 2rem; color: var(--gray); margin-bottom: 10px;"></i>
      <p>Click to upload or drag and drop an image</p>
    `;
    }

    // ===== Ratings =====
    function rateGuide(guideId, rating) {
      const guide = allGuides.find(g => g.id === guideId);
      if (!guide) return;

      const oldRating = guide.userRating;
      guide.userRating = rating;
      if (oldRating === 0) {
        guide.rating = ((guide.rating * guide.ratingCount) + rating) / (guide.ratingCount + 1);
        guide.ratingCount += 1;
      } else {
        guide.rating = ((guide.rating * guide.ratingCount) - oldRating + rating) / guide.ratingCount;
      }

      loadGuides();
      showNotification(`Rated "${guide.title}" ${rating} star${rating > 1 ? 's' : ''}! ⭐`, 'success');
    }

    // ===== Notifications =====
    function showNotification(message, type = 'success') {
      const notification = document.createElement('div');
      const bgColor = type === 'success' ? 'var(--primary)' : type === 'error' ? '#f44336' : 'var(--accent)';
      notification.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: ${bgColor};
      color: white;
      padding: 15px 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      z-index: 1001;
      animation: slideIn 0.3s ease-out;
      max-width: 300px;
      word-wrap: break-word;
    `;
      notification.textContent = message;

      const closeBtn = document.createElement('span');
      closeBtn.innerHTML = '&times;';
      closeBtn.style.cssText = "float:right;margin-left:10px;cursor:pointer;font-weight:bold;";
      closeBtn.onclick = () => notification.remove();
      notification.appendChild(closeBtn);

      document.body.appendChild(notification);
      setTimeout(() => notification.remove(), 5000);
    }

    // ===== Utils =====
    function debounce(func, wait) {
      let timeout;
      return (...args) => {
        clearTimeout(timeout);
        timeout = setTimeout(() => func(...args), wait);
      };
    }

    function addScrollToTop() {
      const scrollBtn = document.createElement('button');
      scrollBtn.innerHTML = '<i class="fas fa-arrow-up"></i>';
      scrollBtn.style.cssText = `
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      cursor: pointer;
      display: none;
      z-index: 1000;
      box-shadow: var(--shadow);
      transition: all 0.3s;
    `;
      scrollBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
      window.addEventListener('scroll', () => {
        scrollBtn.style.display = window.pageYOffset > 300 ? 'block' : 'none';
      });
      document.body.appendChild(scrollBtn);
    }
  </script>

</body>

</html>